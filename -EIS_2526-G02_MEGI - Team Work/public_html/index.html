<!-- item-page.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <!-- Where the collection page lives (used for redirects after delete) -->
<meta name="app-base" content="">
<meta name="item-page-path" content="index.html">          <!-- só na Collection -->
<meta name="events-page-path" content="event.html">         <!-- nas duas -->
<meta name="collection-page-path" content="collection-page.html"> <!-- só na Item -->
>


  <title>Collecta•Hub — Item Page</title>

  <!-- Core stylesheet provided by the project (must be used) -->
  <link rel="stylesheet" href="css.item.page/collection-page.css">

  <!-- Small page-scoped CSS to create the internal two-column grid required by the mockup.
       This does NOT duplicate or override the main design system; it only composes layout
       inside the .main area as requested by the brief. -->
  <style>
    /* Internal grid inside the .main area matching the mockup's two-column division */
    .main-grid {
      display: grid;
      grid-template-columns: 360px 1fr; /* left column (photo/rating) + right column (data) */
      gap: 20px;
      align-items: start;
    }

    /* Make grid responsive on narrow screens */
    @media (max-width: 900px) {
      .main-grid { grid-template-columns: 1fr; }
    }

    /* Visual tweak so the hero text sits above hero media properly */
    .hero { height: 220px; }
    .hero__text { top: 60%; }
    /* Keep star size consistent in the rating block */
    .stars { font-size: 26px; letter-spacing: 4px; }
  </style>
</head>
<body>
  <a class="skip-link" href="#main">Skip to content</a>

  <div class="layout">
    <!-- TOP BAR -->
    <header class="topbar">
      <div class="topbar__brand">Collecta<span class="topbar__dot">•</span>Hub</div>
      <div class="topbar__actions">
        <!-- topbar buttons use the inverted style defined in the CSS (white background, black text) -->
        <button class="btn">Config</button>
        <button class="btn">Profile</button>
      </div>
    </header>

    <!-- SIDEBAR -->
    <aside aria-label="Primary" class="sidebar">
  <!-- ✅ "Create" button -->
  <button class="btn btn--primary sidebar__cta" data-nav="create" type="button">
    <svg aria-hidden="true" class="icon" role="img" viewBox="0 0 24 24"><path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"></path></svg>
    <span>Create New Collection</span>
  </button>

  <!-- ✅ Navigation list -->
  <nav aria-label="Main navigation" class="sidebar__nav">
    <ul class="sidebar__list">
      <li><a class="sidebar__link" data-nav="collector"   href="#">Collector</a></li>
      <li><a class="sidebar__link" data-nav="collections" href="#">Collections</a></li>
      <li><a class="sidebar__link" data-nav="events"      href="#">Events</a></li>
      <li><a class="sidebar__link" data-nav="community"   href="#">Community</a></li>
    </ul>
  </nav>
</aside>

    
    <!-- HERO / BANNER (Título da Coleção e imagem) -->
    <section class="hero" aria-hidden="false">
      <div class="hero__media">
        <!-- placeholder image; project can replace with real collection banner -->
        <img src="assets/collection-hero.jpg" alt="Collection banner">
      </div>
      <div class="hero__text">
        <h1 class="hero__title">Star Wars Miniatures</h1>
        <p class="hero__subtitle">Luke Skywalker — Vintage edition</p>
      </div>
    </section>

    <!-- MAIN: contains the two-column area (photo/rating/manage) + (item data form) -->
    <main id="main" class="main" aria-labelledby="item-title">
      <div class="main-grid">

        <!-- LEFT COLUMN: Photo card + Rating + Manage button -->
        <div class="card" aria-labelledby="photo-title" style="padding:18px;">
          <h2 id="photo-title">Picture of the Item</h2>

          <!-- Item photo -->
          <div style="margin:20px 0;">
            <img src="assets/item-placeholder.webp" alt="Item photo" class="img-ph" id="itemPhotoPreview">
          </div>

          <!-- Rating block (uses .field for form elements per constraints) -->
          <!-- Item rating control (interactive) -->
<div class="rating" id="rating" aria-label="Set item rating from 1 to 5">
  <span class="star" data-value="1" aria-hidden="true">★</span>
  <span class="star" data-value="2" aria-hidden="true">★</span>
  <span class="star" data-value="3" aria-hidden="true">★</span>
  <span class="star" data-value="4" aria-hidden="true">★</span>
  <span class="star" data-value="5" aria-hidden="true">★</span>
</div>
<input type="hidden" id="ratingValue" name="rating" value="0">


          <!-- Manage Item button (Gerir Item) using required classes -->
          <div style="margin-top:14px;">
            <button id="manageItemBtn" class="btn btn--secondary btn--lg btn--block">Manage Item</button>
          </div>
        </div>

        <!-- RIGHT COLUMN: Item Data (form inside a .card) -->
        <div class="card" aria-labelledby="data-title" style="padding:18px;">
          <h2 id="data-title">Info of the Item</h2>

          <!-- Item Data Form: includes all required attributes from the brief.
               Sample data is pre-filled to demonstrate styling. -->
          <form id="itemDataForm" novalidate>
            <div class="field" style="margin-bottom:12px;">
              <label for="itemName">Name *</label><br>
              <input type="text" id="itemName" name="itemName" value="Luke Skywalker (1977)" />
            </div>

            <div class="field" style="margin-bottom:12px;">
              <label for="importance">Importance (0–10) *</label><br>
              <input type="number" id="importance" name="importance" min="0" max="10" value="8" />
            </div>

            <div class="field" style="margin-bottom:12px;">
              <label for="weight">Weight (grams)</label><br>
              <input type="number" id="weight" name="weight" value="45" />
            </div>

            <div class="field" style="margin-bottom:12px;">
              <label for="price">Price (€)</label><br>
              <input type="number" id="price" name="price" step="0.01" value="24.99" />
            </div>

            <div class="field" style="margin-bottom:12px;">
              <label for="acquisition">Date of Acquisition</label><br>
              <input type="date" id="acquisition" name="acquisition" value="2021-08-15" />
            </div>

            <div class="field" style="margin-bottom:14px;">
              <label for="description">Description *</label><br>
              <textarea id="description" name="description">Vintage action figure in very good condition — limited release.</textarea>
            </div>

            <!-- Inline image upload preview (uses classes already in CSS) -->
            <div class="field" style="margin-bottom:12px;">
              <label for="photoUpload">Change Photo</label><br>
              <input type="file" id="photoUpload" accept="image/*" />
            </div>

            <!-- Action buttons: Save Changes and Delete Item (Delete placed as separate action) -->
            <div class="actions" style="margin-top:8px;">
              <button type="submit" class="btn btn--primary">Save Changes</button>
              <button type="button" id="deleteItemBtn" class="btn btn--secondary">Delete Item</button>
              <button id="backToCollectionBtn" type="button" class="secondary-btn">
  ← Back to Collection
</button>
            </div>
          </form>
        </div>
      </div>
    </main>

    <!-- ASIDE / STATS: summary of item fields (must use .stats area) -->
    <aside class="stats" aria-labelledby="summary-title">
      <h3 id="summary-title" class="stats__title">Item Summary</h3>
      <dl>
        <div class="stats__row"><dt>Name</dt><dd id="summaryName">Luke Skywalker (1977)</dd></div>
        <div class="stats__row"><dt>Importance</dt><dd id="summaryImportance">8</dd></div>
        <div class="stats__row"><dt>Weight</dt><dd id="summaryWeight">45 g</dd></div>
        <div class="stats__row"><dt>Price</dt><dd id="summaryPrice">€ 24.99</dd></div>
        <div class="stats__row"><dt>Acquisition</dt><dd id="summaryDate">2021-08-15</dd></div>
      </dl>
    </aside>

    <!-- FOOTER area -->
    <footer class="footer">
      <p>© 2025 Collecta•Hub — Team EIS_2526-GXXX</p>
    </footer>
  </div>

  <!-- Attach the JavaScript that implements rating + validation + simulated CRUD -->
  <script src="js.item.page/Java.js" defer></script>
<script src="js/common/nav.js" defer></script>
<script>
  // Basic init: navegação já funciona para collector/collections/events/community
  // e os botões de Profile/Config/Create chamam callbacks default (alert).
  document.addEventListener('DOMContentLoaded', () => {
    // Em páginas de item ou eventos, você pode querer ter o botão "← Back to Collection":
    const isItemOrEvents = /index\.html|event\.html/i.test(location.pathname);
    window.CollectaNav.init({
      autoBackButton: isItemOrEvents,

      // Opcional: substitua por comportamentos reais
      onProfile(el) {
        // Exemplo: abrir menu drop-down ou navegar para profile.html
        // window.location.href = 'profile.html';
        console.log('[nav] Profile clicked', el);
      },
      onConfig(el) {
        // Exemplo: abrir modal de configurações
        console.log('[nav] Config clicked', el);
        // openSettingsModal();
      },
      onCreate(el) {
        // Exemplo: abrir wizard de criação de coleção
        console.log('[nav] Create New Collection clicked', el);
        // openCreateCollectionWizard();
      }
    });
  });
</script>

</body>
</html>

